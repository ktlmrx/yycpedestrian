<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>yyc pedestrian</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
<script type="module" src="components/header.js"></script>
  <main>
    <section>
      <h2>watch your step !</h2>
      <p>this site is dedicated to raising awareness about pedestrian-involved collisions in yyc. learn where they happen, what to do, and how we can all help prevent more tragedies.</p>
    </section>
    <section>
  <h2 id="days-since">Loading...</h2>
</section>
    <section>
  <h3>recent pedestrian incidents</h3>
  <ul id="incident-feed"></ul>
</section>

</main>

  </main>

<script type="module" src="components/footer.js"></script>
<script src="js/incidents.js"></script>

</body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // set the most recent incident date here (YYYY-MM-DD)
    const lastIncidentDate = new Date("2025-05-13");
    const today = new Date();
    const diffTime = today - lastIncidentDate;
    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
    document.getElementById("incident-counter").textContent = `${diffDays} day${diffDays === 1 ? '' : 's'} since the last reported pedestrian incident in Calgary.`;
  });
</script>
