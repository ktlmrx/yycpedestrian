<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>stats | yycpedestrian</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <script type="module" src="components/header.js"></script>

    <main>
  <h2>calgary pedestrian incident statistics</h2>

  <section>
    <h3>quick facts</h3>
  <ul>
    <li>Between 2013 and 2018, Calgary averaged over <strong>540 emergency department visits</strong> per year due to pedestrian collisions involving cars, trucks, or vans.</li>
    <li>During the same period, an average of <strong>109 pedestrians were hospitalized</strong> each year due to these collisions.</li>
    <li>Data source: <a href="https://data.calgary.ca/Health-and-Safety/Pedestrian-Collision-Injuries/2msm-bgzt" target="_blank">Open Calgary pedestrian injury data</a></li>
  </ul>
  </section>

  <section>
    <h3>coming soon: dynamic charts</h3>
    <p>we're working on interactive data visualizations to show:</p>
    <ul>
      <li>incident frequency by year</li>
      <li>heatmap of locations</li>
    </ul>
  </section>
</main>

  </main>

  <script type="module" src="components/footer.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
  const ctx = document.getElementById('injuryChart').getContext('2d');

  const injuryChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['2018', '2019', '2020', '2021', '2022'],
      datasets: [
        {
          label: 'Emergency Dept Visits',
          data: [514, 530, 510, 495, 470],
          backgroundColor: 'rgba(255, 99, 132, 0.6)',
          borderColor: 'rgba(255, 99, 132, 1)',
          borderWidth: 1
        },
        {
          label: 'Hospital Admissions',
          data: [111, 108, 100, 92, 85],
          backgroundColor: 'rgba(54, 162, 235, 0.6)',
          borderColor: 'rgba(54, 162, 235, 1)',
          borderWidth: 1
        }
      ]
    },
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: true,
          ticks: {
            precision: 0
          },
          title: {
            display: true,
            text: 'Number of Injuries'
          }
        },
        x: {
          title: {
            display: true,
            text: 'Year'
          }
        }
      },
      plugins: {
        legend: {
          position: 'top'
        },
        title: {
          display: false
        }
      }
    }
  });
</script>

</body>
</html>

